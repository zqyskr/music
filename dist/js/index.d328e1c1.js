(function(e){function t(t){for(var c,r,s=t[0],u=t[1],o=t[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,o||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(c=!1)}c&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var c={},r={index:0},i={index:0},a=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-0b45a650":"64acd2f6","chunk-3484b73c":"ce4fdebe","chunk-66123de9":"21df1c7c","chunk-7cffbefa":"586a81dd"}[e]+".js"}function u(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-0b45a650":1,"chunk-3484b73c":1,"chunk-66123de9":1,"chunk-7cffbefa":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-0b45a650":"f8e38d6b","chunk-3484b73c":"913ecb4a","chunk-66123de9":"d6b97814","chunk-7cffbefa":"f301a20c"}[e]+".css",i=u.p+c,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var o=a[s],l=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(l===c||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){o=d[s],l=o.getAttribute("data-href");if(l===c||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var c=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete r[e],p.parentNode.removeChild(p),n(a)},p.href=i;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){r[e]=0})));var c=i[e];if(0!==c)if(c)t.push(c[2]);else{var a=new Promise((function(t,n){c=i[e]=[t,n]}));t.push(c[2]=a);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var d=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}i[e]=void 0}};var p=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=c,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)u.d(n,c,function(t){return e[t]}.bind(null,c));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="http://cpeng1314.gitee.io/musicvue3/",u.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var p=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0157":function(e,t,n){},"0729":function(e,t,n){e.exports=n.p+"img/bccc.b700b62e.png"},"0826":function(e,t,n){"use strict";n("5e94")},1789:function(e,t,n){"use strict";n("0157")},1815:function(e,t,n){"use strict";n("c1d7")},"18e8":function(e,t,n){"use strict";n("c98e")},1982:function(e,t,n){"use strict";n("fffd")},"365c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));n("99af");var c=n("bc3a"),r=n.n(c),i="http://music.cpengx.cn";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.get("".concat(i,"/banner?type=").concat(e))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return r.a.get("".concat(i,"/personalized?limit=").concat(e))}function u(e){return r.a.get("".concat(i,"/playlist/detail?id=").concat(e))}function o(e){return r.a.get("".concat(i,"/lyric?id=").concat(e))}function l(e){return r.a.get("".concat(i,"/search?keywords=").concat(e))}function d(e,t){return r.a.get("".concat(i,"/login/cellphone?phone=").concat(e,"&password=").concat(t))}function p(e){return r.a.get("".concat(i,"/user/detail?uid=").concat(e))}t["a"]={getBanners:a,getSongitem:s,getSongthing:u,getLyric:o,searchMusic:l,phoneLogin:d,userDetail:p}},4360:function(e,t,n){"use strict";n("4160"),n("d81d"),n("fb6a"),n("ac1f"),n("1276"),n("159b"),n("96cf");var c=n("1da1"),r=n("5502"),i=n("365c");t["a"]=Object(r["a"])({state:{playlist:[{al:{id:2519094,name:"秋：故事",pic:0x186a0001b98db00,picUrl:"http://p3.music.126.net/t3yhufmRdlQZPfkLlxlgOA==/109951163240602374.jpg",pic_str:"109951163240602374"}}],playCurrentIndex:0,lyric:"",currentTime:0,user:{isLogin:!1,account:{},userDetail:{}}},mutations:{setPlaylist:function(e,t){e.playlist=t},pushPlaylist:function(e,t){e.playlist.push(t)},setPlayIndex:function(e,t){e.playCurrentIndex=t},setLyric:function(e,t){e.lyric=t},setCurrentTime:function(e,t){e.currentTime=t},setUser:function(e,t){e.user=t}},actions:{reqLyric:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["a"].getLyric(t.id);case 2:c=n.sent,e.commit("setLyric",c.data.lrc.lyric);case 4:case"end":return n.stop()}}),n)})))()},phoneLogin:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["a"].phoneLogin(t.phone,t.password);case 2:if(c=n.sent,200!=c.data.code){n.next=13;break}return e.state.user.isLogin=!0,e.state.user.account=c.data.account,n.next=8,i["a"].userDetail(c.data.account.id);case 8:r=n.sent,e.state.user.userDetail=r.data,localStorage.userData=JSON.stringify(e.state.user),console.log(r),e.commit("setUser",e.state.user);case 13:return n.abrupt("return",c);case 14:case"end":return n.stop()}}),n)})))()}},getters:{lyricList:function(e){var t=e.lyric.split(/\n/gi).map((function(e,t,n){var c=parseInt(e.slice(1,3)),r=parseInt(e.slice(4,6)),i=parseInt(e.slice(7,10));return{min:c,sec:r,mill:i,lyric:e.slice(12,e.length),content:e,time:i+1e3*r+60*c*1e3}}));return t.forEach((function(e,n){e.pre=0==n?0:t[n-1].time})),t}},modules:{}})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function r(e,t,n,r,i,a){var s=Object(c["y"])("router-view"),u=Object(c["y"])("play");return Object(c["r"])(),Object(c["d"])("div",null,[Object(c["g"])(s),Object(c["g"])(u)])}n("b0c0");var i={class:"play"},a={class:"content"},s={class:"title"},u=Object(c["g"])("div",{class:"tips"},"横滑可以切换上下首`",-1),o={class:"right"},l=Object(c["g"])("use",{"xlink:href":"#icon-play"},null,-1),d=Object(c["g"])("use",{"xlink:href":"#icon-zanting"},null,-1),p=Object(c["g"])("svg",{class:"icon","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-liebiao"})],-1);function b(e,t,n,r,b,f){var g=Object(c["y"])("play-music");return Object(c["r"])(),Object(c["d"])("div",i,[Object(c["g"])("div",{class:"left",onClick:t[1]||(t[1]=function(e){return b.show=!b.show})},[Object(c["g"])("img",{src:e.playlist[e.playCurrentIndex].al.picUrl,alt:""},null,8,["src"]),Object(c["g"])("div",a,[Object(c["g"])("div",s,Object(c["A"])(e.playlist[e.playCurrentIndex].name),1),u])]),Object(c["g"])("div",o,[b.paused?(Object(c["r"])(),Object(c["d"])("svg",{key:0,class:"icon","aria-hidden":"true",onClick:t[2]||(t[2]=function(){return f.play.apply(f,arguments)})},[l])):(Object(c["r"])(),Object(c["d"])("svg",{key:1,class:"icon","aria-hidden":"true",onClick:t[3]||(t[3]=function(){return f.play.apply(f,arguments)})},[d])),p]),Object(c["g"])("audio",{ref:"audio",src:"https://music.163.com/song/media/outer/url?id=".concat(e.playlist[e.playCurrentIndex].id,".mp3")},null,8,["src"]),Object(c["G"])(Object(c["g"])(g,{play:f.play,paused:b.paused,onBack:t[4]||(t[4]=function(e){return b.show=!b.show}),playDetail:e.playlist[e.playCurrentIndex]},null,8,["play","paused","playDetail"]),[[c["D"],b.show]])])}var f=n("5530"),g=n("5502"),h=n("9d8f"),j=n.n(h),O=n("0729"),v=n.n(O),m={class:"playMusic"},y={class:"playTop"},k=Object(c["g"])("svg",{class:"icon","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-sdf"})],-1),w={class:"center"},x=Object(c["g"])("div",{class:"share"},[Object(c["g"])("svg",{class:"icon","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-fenxiang"})])],-1),C={key:0,class:"playContent"},L=Object(c["g"])("img",{class:"disc",src:v.a,alt:""},null,-1),I={key:1,class:"playLyric",ref:"playLyric"},T=Object(c["g"])("div",{class:"progress"},null,-1),S={class:"playFooter"},P=Object(c["g"])("svg",{class:"icon","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-xunhuan"})],-1),D=Object(c["g"])("use",{"xlink:href":"#icon-shangyishoushangyige"},null,-1),$=Object(c["g"])("use",{"xlink:href":"#icon-bofang1"},null,-1),_=Object(c["g"])("use",{"xlink:href":"#icon-zanting"},null,-1),A=Object(c["g"])("use",{"xlink:href":"#icon-xiayigexiayishou"},null,-1),M=Object(c["g"])("svg",{class:"icon","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-liebiao"})],-1);function E(e,t,n,r,i,a){var s=Object(c["y"])("marquee");return Object(c["r"])(),Object(c["d"])("div",m,[Object(c["g"])("div",{class:"bg",style:{backgroundImage:"url(".concat(n.playDetail.al.picUrl,")")}},null,4),Object(c["g"])("div",y,[Object(c["g"])("div",{class:"back",onClick:t[1]||(t[1]=function(t){return e.$emit("back")})},[k]),Object(c["g"])("div",w,[Object(c["g"])(s,{behavior:"scroll",direction:"left"},{default:Object(c["F"])((function(){return[Object(c["f"])(Object(c["A"])(n.playDetail.name),1)]})),_:1})]),x]),i.isLyric?(Object(c["r"])(),Object(c["d"])("div",I,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(e.$store.getters.lyricList,(function(t,n){return Object(c["r"])(),Object(c["d"])("p",{class:{active:1e3*e.currentTime>=t.pre&&1e3*e.currentTime<t.time},key:n},Object(c["A"])(t.lyric),3)})),128))],512)):(Object(c["r"])(),Object(c["d"])("div",C,[Object(c["g"])("img",{class:["needle",{active:!n.paused}],src:j.a,alt:""},null,2),L,Object(c["g"])("img",{class:"playImg",src:n.playDetail.al.picUrl,alt:""},null,8,["src"])])),T,Object(c["g"])("div",S,[P,(Object(c["r"])(),Object(c["d"])("svg",{class:"icon","aria-hidden":"true",onClick:t[2]||(t[2]=function(e){return a.goPlay(-1)})},[D])),n.paused?(Object(c["r"])(),Object(c["d"])("svg",{key:0,class:"icon","aria-hidden":"true",onClick:t[3]||(t[3]=function(){return n.play.apply(n,arguments)})},[$])):(Object(c["r"])(),Object(c["d"])("svg",{key:1,class:"icon","aria-hidden":"true",onClick:t[4]||(t[4]=function(){return n.play.apply(n,arguments)})},[_])),(Object(c["r"])(),Object(c["d"])("svg",{class:"icon","aria-hidden":"true",onClick:t[5]||(t[5]=function(e){return a.goPlay(1)})},[A])),M])])}var U={data:function(){return{isLyric:!0}},computed:Object(f["a"])({},Object(g["c"])(["lyric","currentTime","playlist","playCurrentIndex"])),watch:{currentTime:function(e){var t=document.querySelector("p.active");if(t){t.offsetTop;this.$refs.playLyric.scrollTop=t.offsetTop}}},methods:{goPlay:function(e){var t=this.playCurrentIndex+e;t<0?t=this.playlist.length-1:t==this.playlist.length&&(t=0),this.$store.commit("setPlayIndex",t)}},props:["playDetail","paused","play"]};n("a66e");U.render=E;var R=U,q={components:{playMusic:R},data:function(){return{paused:!0,show:!1}},computed:Object(f["a"])({},Object(g["c"])(["playlist","playCurrentIndex"])),mounted:function(){},updated:function(){this.$store.dispatch("reqLyric",{id:this.playlist[this.playCurrentIndex].id})},methods:{play:function(){this.$refs.audio.paused?(this.$refs.audio.play(),this.paused=!1,this.UpdateTime()):(this.$refs.audio.pause(),this.paused=!0)},UpdateTime:function(){var e=this;this.$store.state.id=setInterval((function(){e.$store.commit("setCurrentTime",e.$refs.audio.currentTime)}),1e3)}}};n("0826");q.render=b;var F=q,B={components:{play:F},mounted:function(){if(localStorage.userData){var e=JSON.parse(localStorage.userData);console.log(e),this.$store.commit("setUser",e)}}};n("64be");B.render=r;var N=B,V=(n("d3b7"),n("6c02")),z=(n("bb51"),n("4360")),J=[{path:"/",name:"Home",component:function(){return Promise.resolve().then(n.bind(null,"bb51"))}},{path:"/listView",name:"listView",component:function(){return n.e("chunk-3484b73c").then(n.bind(null,"241c4"))}},{path:"/Search",name:"Search",component:function(){return n.e("chunk-66123de9").then(n.bind(null,"2d3b"))}},{path:"/Login",name:"Login",component:function(){return n.e("chunk-0b45a650").then(n.bind(null,"a55b"))}},{path:"/Me",name:"Me",beforeEnter:function(e,t,n){z["a"].state.user.isLogin?n():n("/login")},component:function(){return n.e("chunk-7cffbefa").then(n.bind(null,"0a99"))}}],H=Object(V["a"])({history:Object(V["b"])("http://cpeng1314.gitee.io/musicvue3/"),routes:J}),G=H;Object(c["c"])(N).use(z["a"]).use(G).mount("#app")},"5e94":function(e,t,n){},"64be":function(e,t,n){"use strict";n("c894")},"81f6":function(e,t,n){},"9d8f":function(e,t,n){e.exports=n.p+"img/needle-plus.994aa910.png"},a66e:function(e,t,n){"use strict";n("81f6")},bb51:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r={class:"home"};function i(e,t,n,i,a,s){var u=Object(c["y"])("nav-bar"),o=Object(c["y"])("swiper-com"),l=Object(c["y"])("icon-list"),d=Object(c["y"])("music-list");return Object(c["r"])(),Object(c["d"])("div",r,[Object(c["g"])(u),Object(c["g"])(o),Object(c["g"])(l),Object(c["g"])(d)])}var a={class:"nav-bar"},s=Object(c["g"])("div",{class:"navLeft"},[Object(c["g"])("svg",{class:"icon","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-liebiao1"})])],-1),u={class:"navCenter"},o=Object(c["g"])("div",{class:"con active"},"发现",-1),l=Object(c["g"])("div",{class:"con"},"云村",-1),d=Object(c["g"])("div",{class:"con"},"视频",-1),p=Object(c["g"])("svg",{class:"icon search","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-sousuo"})],-1);function b(e,t,n,r,i,b){return Object(c["r"])(),Object(c["d"])("div",a,[s,Object(c["g"])("div",u,[Object(c["g"])("div",{class:"con",onClick:t[1]||(t[1]=function(t){return e.$router.push("../views/Me")})},"我的"),o,l,d]),Object(c["g"])("div",{class:"navRight",onClick:t[2]||(t[2]=function(t){return e.$router.push("../views/Search")})},[p])])}var f={};n("18e8");f.render=b;var g=f,h={id:"swiperCom"},j={class:"swiper-container",id:"swiperIndex"},O={class:"swiper-wrapper"},v=Object(c["g"])("div",{class:"swiper-pagination"},null,-1);function m(e,t,n,r,i,a){return Object(c["r"])(),Object(c["d"])("div",h,[Object(c["g"])("div",j,[Object(c["g"])("div",O,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(i.imgs,(function(e,t){return Object(c["r"])(),Object(c["d"])("div",{class:"swiper-slide",key:t},[Object(c["g"])("img",{src:e.pic},null,8,["src"])])})),128))]),v])])}n("96cf");var y=n("1da1"),k=(n("a7a3"),n("b619")),w=n("365c"),x={data:function(){return{imgs:[]}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(w["b"])(1);case 2:n=t.sent,e.imgs=n.data.banners,setTimeout((function(){new k["a"]("#swiperIndex",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0}})}),10);case 5:case"end":return t.stop()}}),t)})))()}};n("1982");x.render=m;var C=x,L={class:"iconList"},I=Object(c["g"])("div",{class:"iconItem"},[Object(c["g"])("svg",{class:"icon day","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-fanjutuijian"})]),Object(c["g"])("span",null,"每日推荐")],-1),T=Object(c["g"])("div",{class:"iconItem"},[Object(c["g"])("svg",{class:"icon fm","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-FM_weixuanze"})]),Object(c["g"])("span",null,"私人FM")],-1),S=Object(c["g"])("div",{class:"iconItem"},[Object(c["g"])("svg",{class:"icon songitem","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-gedan"})]),Object(c["g"])("span",null,"歌单")],-1),P=Object(c["g"])("div",{class:"iconItem"},[Object(c["g"])("svg",{class:"icon paihang","aria-hidden":"true"},[Object(c["g"])("use",{"xlink:href":"#icon-bianpinghuatubiaosheji-"})]),Object(c["g"])("span",null,"排行榜")],-1);function D(e,t,n,r,i,a){return Object(c["r"])(),Object(c["d"])("div",L,[I,T,S,P])}var $={};n("1815");$.render=D;var _=$,A=(n("b0c0"),{class:"music-list"}),M=Object(c["g"])("div",{class:"music-top"},[Object(c["g"])("div",{class:"title"},"发现好歌单"),Object(c["g"])("button",{class:"more"},"查看更多")],-1),E={class:"milist"},U={class:"swiper-container",id:"musicSwiper"},R={class:"swiper-wrapper"},q={class:"name"},F={class:"count"},B=Object(c["g"])("div",{class:"swiper-pagination"},null,-1);function N(e,t,n,r,i,a){var s=Object(c["y"])("router-link");return Object(c["r"])(),Object(c["d"])("div",A,[M,Object(c["g"])("div",E,[Object(c["g"])("div",U,[Object(c["g"])("div",R,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(r.state.musicList,(function(e,t){return Object(c["r"])(),Object(c["d"])(s,{to:{path:"/listView",query:{id:e.id}},class:"swiper-slide",key:t},{default:Object(c["F"])((function(){return[Object(c["g"])("img",{src:e.picUrl,alt:e.name},null,8,["src","alt"]),Object(c["g"])("span",q,Object(c["A"])(e.name),1),Object(c["g"])("div",F,Object(c["A"])(r.changeValue(e.playCount)),1)]})),_:2},1032,["to"])})),128))]),B])])])}n("b680");var V={setup:function(){var e=Object(c["v"])({musicList:[]});function t(e){var t=0;return e>=1e8?(t=e/1e8,t=t.toFixed(2)+"亿"):e>1e4&&(t=e/1e4,t=t.toFixed(2)+"万"),t}return Object(c["o"])(Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(w["c"])();case 2:n=t.sent,e.musicList=n.data.result;case 4:case"end":return t.stop()}}),t)})))),Object(c["q"])((function(){new k["a"]("#musicSwiper",{slidesPerView:3,spaceBetween:10})})),{state:e,changeValue:t}}};n("1789");V.render=N;var z=V,J={name:"Home",components:{navBar:g,swiperCom:C,iconList:_,musicList:z}};J.render=i;t["default"]=J},c1d7:function(e,t,n){},c894:function(e,t,n){},c98e:function(e,t,n){},fffd:function(e,t,n){}});
//# sourceMappingURL=index.d328e1c1.js.map